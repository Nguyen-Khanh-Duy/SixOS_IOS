<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SixOSDatKhamAppMobile.Pages.S0306_mTrangChu"
              NavigationPage.HasNavigationBar="False"
             Title="Trang Chá»§">
    <Grid RowDefinitions="*,Auto">

        <!-- Loading Indicator -->
        <ActivityIndicator x:Name="LoadingIndicator"
                          IsRunning="False"
                          IsVisible="False"
                          Color="{StaticResource PrimaryColor}"
                          VerticalOptions="Center"
                          HorizontalOptions="Center"
                          Grid.Row="0"
                          ZIndex="999"/>

        <!-- Main Content -->
        <ScrollView Grid.Row="0">
            <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto,Auto,Auto,Auto"
                  BackgroundColor="{StaticResource BackgroundColor}"
                  Padding="10"
                  >

                <!-- Header -->
                <Frame Grid.Row="0"
                       BackgroundColor="{StaticResource White}"
                       CornerRadius="0"
                       Padding="0"
                       Margin="0,0,0,10"
                       HasShadow="True">
                    <Grid ColumnDefinitions="Auto,*,Auto">
                        <Image Grid.Column="0"
                               Source="logo.jpg"
                               HeightRequest="80"
                               WidthRequest="80"
                               Margin="5,2,5,2"
                               VerticalOptions="Center"
                               Aspect="AspectFit" />

                        <VerticalStackLayout Grid.Column="1"
                                             Spacing="0"
                                             VerticalOptions="Center"
                                             Margin="0,10">
                            <Label Text="Bá»‡nh viá»‡n Ung BÆ°á»›u"
                                   TextColor="#007bff"
                                   FontSize="18"
                                   FontAttributes="Bold"
                                   HorizontalOptions="Start" />
                            <Label Text="ThÃ nh phá»‘ Há»“ ChÃ­ Minh"
                                   TextColor="#007bff"
                                   FontSize="14"
                                   HorizontalOptions="Start"
                                   Margin="0,-4,0,0" />
                        </VerticalStackLayout>

                        <ImageButton Grid.Column="2"
                                     Source="thongbao.png"
                                     BackgroundColor="Transparent"
                                     WidthRequest="28"
                                     HeightRequest="28"
                                     Margin="0,0,15,10"
                                     Clicked="OnThongBaoClicked"
                                     VerticalOptions="Center"/>
                    </Grid>
                </Frame>

                <!-- TÃ¬m kiáº¿m -->
                <!--<Frame Grid.Row="1"
                       BackgroundColor="{StaticResource White}"
                       CornerRadius="20"
                       Padding="10,5"
                       HeightRequest="50"
                       Margin="0,0,0,10"
                       HasShadow="False">
                    <Grid ColumnDefinitions="Auto,*">
                        <Image Grid.Column="0"
                               Source="timkiem.png"
                               HeightRequest="30"
                               WidthRequest="30"
                               Margin="0,0,5,0"
                               VerticalOptions="Center"
                               HorizontalOptions="Center" />

                        <Entry Grid.Column="1"
                               x:Name="SearchEntry"
                               Placeholder="TÃ¬m kiáº¿m chuyÃªn gia, gÃ³i khÃ¡m..."
                               PlaceholderColor="#888888"
                               TextColor="Black"
                               FontSize="14"
                               BackgroundColor="Transparent"
                               ClearButtonVisibility="WhileEditing"
                               VerticalOptions="Center"
                               HorizontalOptions="FillAndExpand"
                               Completed="OnSearchCompleted"
                               TextChanged="OnSearchCompleted"/>
                    </Grid>
                </Frame>-->

                <!-- GÃ“I KHÃM Section -->
                <Frame Grid.Row="2"
                       BackgroundColor="{StaticResource White}"
                       CornerRadius="10"
                       Padding="0"
                       Margin="0,0,0,20"
                       HasShadow="True">

                    <VerticalStackLayout Spacing="0">
                        <Frame
                            BackgroundColor="{StaticResource PrimaryColor}"
                            CornerRadius="10"
                            Padding="15,12">

                            <Grid ColumnDefinitions="*,Auto">

                                <!-- Title -->
                                <Label
                                    Grid.Column="0"
                                    Text="GÃ“I KHÃM"
                                    FontFamily="MontserratBold"
                                    FontSize="20"
                                    FontAttributes="Bold"
                                    TextColor="White"
                                    HorizontalOptions="Start"
                                    VerticalOptions="Center">

                                    <Label.Shadow>
                                        <Shadow
                                            Brush="Black"
                                            Opacity="0.3"
                                            Offset="1,1"
                                            Radius="1" />
                                    </Label.Shadow>
                                </Label>

                                <!-- Search Icon -->
                                <Button
                                    Grid.Column="1"
                                    ImageSource="tk01.png"
                                    BackgroundColor="Transparent"
                                    Padding="0"
                                    HorizontalOptions="End"
                                    VerticalOptions="Center"
                                    Clicked="OnViewAllServicesClicked" />
                            </Grid>
                        </Frame>


                        <!-- Danh sÃ¡ch gÃ³i khÃ¡m -->
                        <CollectionView x:Name="GoiKhamCollectionView"
                                        Margin="12,10"
                                        SelectionMode="None">
                            <CollectionView.ItemsLayout>
                                <LinearItemsLayout Orientation="Horizontal"
                                                   ItemSpacing="15"/>
                            </CollectionView.ItemsLayout>
                            <!-- GÃ“I KHÃM Section - Cáº­p nháº­t DataTemplate -->
                            <CollectionView.ItemTemplate>
                                <DataTemplate>
                                    <Frame WidthRequest="178"
                                           HeightRequest="297" 
                                           BorderColor="LightGray"
                                           BackgroundColor="{StaticResource White}"
                                           CornerRadius="15"
                                           Padding="0"
                                           HasShadow="True">
                                        <Grid RowDefinitions="120,Auto,50,Auto,40,Auto">
                                            <!-- ThÃªm hÃ ng thá»© 5 cho 2 nÃºt -->
                                            <!-- HÃ¬nh áº£nh -->
                                            <Image Grid.Row="0"
                                                   Source="dichvu.jpg"
                                                   Aspect="AspectFill"/>

                                            <!-- TÃªn gÃ³i -->
                                            <Label Grid.Row="2"
                                                   Text="{Binding TenGoi}"
                                                   TextColor="{StaticResource TextColor}"
                                                   FontSize="14"
                                                   FontAttributes="Bold"
                                                   LineBreakMode="TailTruncation"
                                                   MaxLines="2"
                                                   Padding="5,5,10,0"
                                                   VerticalOptions="Center"
                                                   HorizontalOptions="Center"
                                                   HorizontalTextAlignment="Center"/>

                                            <!-- GiÃ¡ tiá»n -->
                                            <HorizontalStackLayout Grid.Row="3"
                                                                   Spacing="5"
                                                                   Padding="10,10,10,5"
                                                                   VerticalOptions="Center"
                                                                   HorizontalOptions="Center">
                                                <Label TextColor="#E53935"
                                                       FontSize="18"
                                                       FontAttributes="Bold"
                                                       HorizontalTextAlignment="Center">
                                                    <Label.Text>
                                                        <Binding Path="TongTien" StringFormat="{}{0:N0}Ä‘"/>
                                                    </Label.Text>
                                                </Label>
                                            </HorizontalStackLayout>

                                            <!-- NÃºt Xem hÆ°á»›ng dáº«n vÃ  Xem chi tiáº¿t (HÃ€NG Má»šI) -->
                                            <HorizontalStackLayout Grid.Row="4"
                                                                   Spacing="15"
                                                                   HorizontalOptions="Center"
                                                                   VerticalOptions="Center"
                                                                   Padding="10,5,10,5">

                                                <!-- Xem hÆ°á»›ng dáº«n - Label vá»›i gáº¡ch dÆ°á»›i -->
                                                <Label Text="HÆ°á»›ng dáº«n"
                                                       TextColor="#1A73E8"
                                                       FontSize="11"
                                                       FontAttributes="Bold"
                                                       TextDecorations="Underline"
                                                       VerticalOptions="Center">
                                                    <Label.GestureRecognizers>
                                                        <TapGestureRecognizer CommandParameter="{Binding .}" 
                                                                              Tapped="OnXemHuongDanClicked"/>
                                                    </Label.GestureRecognizers>
                                                </Label>

                                                <!-- Separator -->
                                                <Label Text="|"
                                                       TextColor="#94A3B8"
                                                       FontSize="11"
                                                       VerticalOptions="Center"/>

                                                <!-- Xem chi tiáº¿t - Label vá»›i gáº¡ch dÆ°á»›i -->
                                                <Label Text="Chi tiáº¿t"
                                                       TextColor="#1A73E8"
                                                       FontSize="11"
                                                       FontAttributes="Bold"
                                                       TextDecorations="Underline"
                                                       VerticalOptions="Center">
                                                    <Label.GestureRecognizers>
                                                        <TapGestureRecognizer CommandParameter="{Binding .}" 
                                                                              Tapped="OnXemChiTietClicked"/>
                                                    </Label.GestureRecognizers>
                                                </Label>
                                            </HorizontalStackLayout>

                                            <!-- NÃºt Äáº·t lá»‹ch (Chuyá»ƒn tá»« Row="4" xuá»‘ng Row="5") -->
                                            <Button Grid.Row="5"
                                                    Text="Äáº¶T Lá»ŠCH NGAY"
                                                    BackgroundColor="#007bff"
                                                    TextColor="White"
                                                    FontSize="12"
                                                    FontAttributes="Bold"
                                                    CornerRadius="15"
                                                    Margin="10,5,10,10"
                                                    Padding="0"
                                                    WidthRequest="179"
                                                    HeightRequest="40"
                                                    CommandParameter="{Binding Id}"
                                                    Clicked="OnBookServiceClicked"/>
                                        </Grid>
                                    </Frame>
                                </DataTemplate>
                            </CollectionView.ItemTemplate>
                        </CollectionView>
                    </VerticalStackLayout>
                </Frame>

                <!-- CHUYÃŠN GIA Section -->
                <Frame Grid.Row="3"
                       BackgroundColor="{StaticResource White}"
                       CornerRadius="10"
                       Padding="0"
                       Margin="0,0,0,20"
                       HasShadow="True">

                    <VerticalStackLayout Spacing="0">
                        <Frame
                            BackgroundColor="{StaticResource PrimaryColor}"
                            CornerRadius="10"
                            Padding="15">

                            <Grid ColumnDefinitions="*,Auto">

                                <!-- Title -->
                                <Label
                                    Grid.Column="0"
                                    Text="CHUYÃŠN GIA"
                                    FontFamily="MontserratBold"
                                    FontSize="20"
                                    FontAttributes="Bold"
                                    TextColor="White"
                                    HorizontalOptions="Start"
                                    VerticalOptions="Center">

                                    <Label.Shadow>
                                        <Shadow
                                            Brush="Black"
                                            Opacity="0.3"
                                            Offset="1,1"
                                            Radius="1" />
                                    </Label.Shadow>
                                </Label>

                                <!-- Search Icon -->
                                <Button
                                    Grid.Column="1"
                                    ImageSource="tk01.png"
                                    BackgroundColor="Transparent"
                                    Padding="0"
                                    HorizontalOptions="End"
                                    VerticalOptions="Center"
                                    Clicked="OnViewAllDoctorsClicked" />
                            </Grid>
                        </Frame>

                        <!-- Danh sÃ¡ch chuyÃªn gia -->
                        <CollectionView x:Name="ChuyenGiaCollectionView"
                                        Margin="12,10"
                                        SelectionMode="None">
                            <CollectionView.ItemsLayout>
                                <LinearItemsLayout Orientation="Horizontal"
                                                   ItemSpacing="15"/>
                            </CollectionView.ItemsLayout>
                            <CollectionView.ItemTemplate>
                                <DataTemplate>
                                    <Frame WidthRequest="178"
                                           HeightRequest="264"
                                           BackgroundColor="{StaticResource White}"
                                           BorderColor="LightGray"
                                           CornerRadius="15"
                                           Padding="0"
                                           HasShadow="True">

                                        <Grid RowDefinitions="180,*,40">
                                            <Image Grid.Row="0"
                                                   Source="{Binding DuongDanHinh, FallbackValue='avatar.jpg'}"
                                                   Aspect="AspectFill"/>

                                            <VerticalStackLayout Grid.Row="1"
                                                                 Spacing="5"
                                                                 Padding="10">
                                                <Label Text="{Binding HocVi}"
                                                       TextColor="#666666"
                                                       FontSize="11"
                                                       LineBreakMode="TailTruncation"
                                                       MaxLines="1"/>

                                                <Label Text="{Binding TenChuyenGia}"
                                                       TextColor="{StaticResource TextColor}"
                                                       FontSize="14"
                                                       FontAttributes="Bold"
                                                       LineBreakMode="TailTruncation"
                                                       MaxLines="2"/>

                                            </VerticalStackLayout>
                                        </Grid>
                                    </Frame>
                                </DataTemplate>
                            </CollectionView.ItemTemplate>
                        </CollectionView>
                    </VerticalStackLayout>
                </Frame>

                <BoxView Grid.Row="4"
                         HeightRequest="1"
                         Color="{StaticResource LightGray}"
                         Margin="0,10"/>

                <!-- Tin tá»©c -->
                <Frame Grid.Row="5"
                       BackgroundColor="Transparent"
                       Padding="0"
                       Margin="5,10,0,10">
                    <Grid ColumnDefinitions="*,Auto">
                        <Label Grid.Column="0"
                               Text="Tin tá»©c má»›i nháº¥t"
                               FontSize="18"
                               FontAttributes="Bold"
                               TextColor="{StaticResource PrimaryColor}"
                               VerticalOptions="Center"/>

                     
                    </Grid>
                </Frame>

                <!-- Quáº£ng cÃ¡o bá»‡nh viá»‡n -->
                <Frame Grid.Row="6"
          BackgroundColor="{StaticResource White}"
          CornerRadius="10"
          Padding="0"
          Margin="0,0,0,20"
          HasShadow="True">
                    <Grid>
                        <Grid HeightRequest="200">

                            <!-- Carousel quáº£ng cÃ¡o tá»± Ä‘á»™ng cháº¡y -->
                            <CarouselView x:Name="QuangCaoCarousel"
                             Loop="True"
                             IsScrollAnimated="True"
                             IsEnabled="False"
                             PeekAreaInsets="0"
                             Margin="0">

                                <CarouselView.ItemsSource>
                                    <x:Array Type="{x:Type x:String}">
                                        <x:String>dichvu.jpg</x:String>
                                        <x:String>quangcao.jpg</x:String>
                                        <x:String>dichvu.jpg</x:String>
                                        <x:String>quangcao.jpg</x:String>
                                    </x:Array>
                                </CarouselView.ItemsSource>

                                <CarouselView.ItemTemplate>
                                    <DataTemplate>
                                        <Grid>
                                            <Image Source="{Binding .}"
                                      Aspect="AspectFill"
                                      HeightRequest="200"/>
                                        </Grid>
                                    </DataTemplate>
                                </CarouselView.ItemTemplate>
                            </CarouselView>

                            <!-- Indicator dots cho quáº£ng cÃ¡o -->
                            <IndicatorView x:Name="QuangCaoIndicator"
                              IndicatorColor="#80FFFFFF"
                              SelectedIndicatorColor="White"
                              HorizontalOptions="Center"
                              VerticalOptions="End"
                              Margin="0,0,0,10"/>
                        </Grid>
                    </Grid>
                </Frame>

                <!-- Äá»‹a chá»‰ bá»‡nh viá»‡n -->
                <Frame Grid.Row="7"
           BackgroundColor="{StaticResource White}"
           CornerRadius="10"
           Padding="15"
           Margin="0,0,0,20"
           HasShadow="True">
                    <VerticalStackLayout Spacing="15">

                        <!-- Thá»i gian lÃ m viá»‡c -->
                        <VerticalStackLayout Spacing="10">
                            <Label Text="â° THá»œI GIAN LÃ€M VIá»†C"
                       FontSize="16"
                       FontAttributes="Bold"
                       TextColor="{StaticResource PrimaryColor}"/>

                            <Grid ColumnDefinitions="*,Auto">
                                <Label Grid.Column="0"
                           Text="Thá»© 2 - Thá»© 6"
                           TextColor="Black"/>
                                <Label Grid.Column="1"
                           Text="7:30 - 16:30"
                           TextColor="Black"
                           FontAttributes="Bold"/>
                            </Grid>
                        </VerticalStackLayout>

                        <!-- Separator -->
                        <BoxView HeightRequest="1"
                     Color="{StaticResource LightGray}"/>

                        <!-- Äá»‹a chá»‰ bá»‡nh viá»‡n - 2 cÆ¡ sá»Ÿ trong 2 Ã´ -->
                        <VerticalStackLayout Spacing="10">
                            <Label Text="ðŸ“ ÄIáº  CHá»ˆ"
                       FontSize="16"
                       FontAttributes="Bold"
                       TextColor="{StaticResource PrimaryColor}"/>

                            <Label Text="Bá»‡nh viá»‡n Ung BÆ°á»›u TP. Há»“ ChÃ­ Minh"
                       FontSize="18"
                       FontAttributes="Bold"
                       TextColor="#111111"
                       Margin="0,0,0,10"
                       HorizontalTextAlignment="Center"
                       HorizontalOptions="Center"/>

                            <!-- 2 Ã´ chá»©a 2 cÆ¡ sá»Ÿ -->
                            <Grid RowDefinitions="Auto,Auto"
                      RowSpacing="10">

                                <!-- Ã” CÆ¡ sá»Ÿ 1 -->
                                <Frame Grid.Row="0"
                           BackgroundColor="#F0F8FF"
                           CornerRadius="8"
                           Padding="12"
                           HasShadow="False">

                                    <VerticalStackLayout Spacing="10">

                                        <!-- TiÃªu Ä‘á» + nÃºt xem báº£n Ä‘á»“ -->
                                        <HorizontalStackLayout Spacing="8"
                                                   VerticalOptions="Center">

                                            <Label Text="ðŸ¥ CÆ¡ sá»Ÿ 1"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="{StaticResource PrimaryColor}"
                                       HorizontalOptions="StartAndExpand"/>

                                            <Button Text="ðŸ—ºï¸ Xem báº£n Ä‘á»“"
                                        TextColor="{StaticResource PrimaryColor}"
                                        BackgroundColor="Transparent"
                                        Clicked="OpenCS1Map"
                                        FontSize="12"
                                        Margin="160,0,0,0"
                                        HeightRequest="22"
                                        Padding="0"
                                        VerticalOptions="Center"/>
                                        </HorizontalStackLayout>

                                        <!-- Äá»‹a chá»‰ -->
                                        <Label Text="47 Nguyá»…n Huy LÆ°á»£ng, PhÆ°á»ng BÃ¬nh Tháº¡nh"
                                   FontSize="13"
                                   TextColor="Black"
                                   LineBreakMode="WordWrap"
                                   MaxLines="3"/>

                                    </VerticalStackLayout>
                                </Frame>

                                <!-- Ã” CÆ¡ sá»Ÿ 2 -->
                                <Frame Grid.Row="1"
                           BackgroundColor="#F0F8FF"
                           CornerRadius="8"
                           Padding="12"
                           HasShadow="False">

                                    <VerticalStackLayout Spacing="10">

                                        <!-- TiÃªu Ä‘á» + nÃºt xem báº£n Ä‘á»“ cÃ¹ng hÃ ng -->
                                        <HorizontalStackLayout Spacing="8"
                                                   VerticalOptions="Center">

                                            <Label Text="ðŸ¥ CÆ¡ sá»Ÿ 2"
                                       FontSize="14"
                                       FontAttributes="Bold"
                                       TextColor="{StaticResource PrimaryColor}"
                                       HorizontalOptions="StartAndExpand"/>

                                            <Button Text="ðŸ—ºï¸ Xem báº£n Ä‘á»“"
                                        TextColor="{StaticResource PrimaryColor}"
                                        BackgroundColor="Transparent"
                                        Clicked="OpenCS2Map"
                                        Margin="160,0,0,0"
                                        FontSize="12"
                                        HeightRequest="22"
                                        Padding="0"
                                        VerticalOptions="Center"/>
                                        </HorizontalStackLayout>

                                        <!-- Äá»‹a chá»‰ -->
                                        <Label Text="Sá»‘ 12 ÄÆ°á»ng 400, PhÆ°á»ng TÄƒng NhÆ¡n PhÃº"
                                   FontSize="13"
                                   TextColor="Black"
                                   LineBreakMode="WordWrap"
                                   MaxLines="3"/>

                                    </VerticalStackLayout>
                                </Frame>

                            </Grid>

                            <!-- Ghi chÃº nhá» -->
                            <Label Text="*Nháº¥n 'Xem báº£n Ä‘á»“' Ä‘á»ƒ xem trÃªn Google Maps"
                       FontSize="11"
                       TextColor="Gray"
                       HorizontalOptions="Center"
                       Margin="0,5,0,0"/>
                        </VerticalStackLayout>
                    </VerticalStackLayout>
                </Frame>

            </Grid>
        </ScrollView>

        <!-- Bottom Navigation -->
        <Frame Grid.Row="1"
               BackgroundColor="{StaticResource White}"
               CornerRadius="0"
               Padding="0"
               Margin="0"
               HasShadow="True"
               BorderColor="#E0E0E0">
            <Grid ColumnDefinitions="*,*,*,*"
                  ColumnSpacing="0"
                  Padding="0">

                <VerticalStackLayout Grid.Column="0"
                                     Spacing="3"
                                     HorizontalOptions="Center"
                                     VerticalOptions="Center"
                                     Padding="10,8">

                    <VerticalStackLayout.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnTrangChuClicked"/>
                    </VerticalStackLayout.GestureRecognizers>

                    <Image Source="home.png"
                           HeightRequest="24"
                           WidthRequest="24"/>

                    <Label Text="Trang chá»§"
                           FontSize="10"
                           TextColor="{StaticResource PrimaryColor}"/>
                </VerticalStackLayout>

                <Grid Grid.Column="1"
                      HorizontalOptions="FillAndExpand"
                      VerticalOptions="FillAndExpand">
                    <VerticalStackLayout Spacing="3"
                                         HorizontalOptions="Center"
                                         VerticalOptions="Center"
                                         Padding="10,8">
                        <Image Source="lichhen.png"
                               HeightRequest="24"
                               WidthRequest="24"/>
                        <Label Text="Lá»‹ch háº¹n"
                               FontSize="10"
                               TextColor="{StaticResource PrimaryColor}"/>
                    </VerticalStackLayout>
                    <Grid.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnLichHenClicked"/>
                    </Grid.GestureRecognizers>
                </Grid>


                <!-- Tra cá»©u -->
                <VerticalStackLayout Grid.Column="2"
                                     Spacing="3"
                                     HorizontalOptions="Center"
                                     VerticalOptions="Center"
                                     Padding="10,8">

                    <VerticalStackLayout.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnPhieuKhamClicked"/>
                    </VerticalStackLayout.GestureRecognizers>

                    <Image Source="loc1.png"
                            HeightRequest="24"
                            WidthRequest="24"/>

                    <Label Text="Tra cá»©u"
                            FontSize="10"
                            TextColor="{StaticResource PrimaryColor}"/>
                </VerticalStackLayout>

                <!-- TÃ i khoáº£n -->
                <Grid Grid.Column="3"
                      HorizontalOptions="FillAndExpand"
                      VerticalOptions="FillAndExpand"
                      Padding="0"
                      Margin="0">
                    <VerticalStackLayout Spacing="3"
                         HorizontalOptions="Center"
                         VerticalOptions="Center"
                         Padding="10,8"
                         BackgroundColor="Transparent">
                        <Image Source="taikhoan.png"
                               HeightRequest="24"
                               WidthRequest="24"
                               HorizontalOptions="Center"/>
                        <Label Text="TÃ i khoáº£n"
                               FontSize="10"
                               TextColor="{StaticResource PrimaryColor}"
                               HorizontalOptions="Center"/>
                    </VerticalStackLayout>

                    <Grid.GestureRecognizers>
                        <TapGestureRecognizer Tapped="OnTaiKhoanClicked"/>
                    </Grid.GestureRecognizers>
                </Grid>
            </Grid>
        </Frame>

        <!-- Floating Call Button -->
        <Frame x:Name="FloatingCallButton"
       WidthRequest="60"
       HeightRequest="60"
       CornerRadius="35"
       Padding="0"
       HasShadow="True"
       HorizontalOptions="End"
       VerticalOptions="End"
       Margin="0,0,30,30"
       ZIndex="10"
       AbsoluteLayout.LayoutFlags="PositionProportional"
       AbsoluteLayout.LayoutBounds="1,1,-1,-1">
            <!-- Background vá»›i gradient mÃ u da cam loang -->
            <Frame.Background>
                <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                    <GradientStop Color="#FFA500" Offset="0.0"/>
                    <GradientStop Color="#FF8C00" Offset="0.5"/>
                    <GradientStop Color="#FF7F00" Offset="1.0"/>
                </LinearGradientBrush>
            </Frame.Background>

            <Frame.Shadow>
                <Shadow Brush="#FF8C00"
          Opacity="0.4"
          Offset="0,5"
          Radius="12"/>
            </Frame.Shadow>

            <Grid BackgroundColor="Transparent"
             WidthRequest="70"
             HeightRequest="70">

                <!-- PanGestureRecognizer Ä‘á»ƒ kÃ©o tháº£ -->
                <Grid.GestureRecognizers>
                    <PanGestureRecognizer PanUpdated="OnPanGestureUpdated"/>
                    <TapGestureRecognizer Tapped="OnCallHospitalClicked"/>
                </Grid.GestureRecognizers>

                <!-- Hiá»‡u á»©ng vÃ²ng trÃ²n lan tá»a -->
                <Ellipse WidthRequest="60"
                    HeightRequest="60"
                    HorizontalOptions="Center"
                    VerticalOptions="Center">
                    <Ellipse.Fill>
                        <RadialGradientBrush Center="0.5,0.5" Radius="0.8">
                            <GradientStop Color="#40FFFFFF" Offset="0.0"/>
                            <GradientStop Color="#10FFFFFF" Offset="0.5"/>
                            <GradientStop Color="Transparent" Offset="1.0"/>
                        </RadialGradientBrush>
                    </Ellipse.Fill>
                </Ellipse>

                <!-- Icon Ä‘iá»‡n thoáº¡i mÃ u tráº¯ng -->
                <Image Source="phone1.png"
                  WidthRequest="36" 
                  HeightRequest="36"
                  HorizontalOptions="Center"
                  VerticalOptions="Center">

                    <Image.Shadow>
                        <Shadow Brush="Black"
                           Opacity="0.7"
                           Offset="0,3"
                           Radius="5"/>
                    </Image.Shadow>
                </Image>

                <!-- Hiá»‡u á»©ng khi nháº¥n -->
                <VisualStateManager.VisualStateGroups>
                    <VisualStateGroup x:Name="CommonStates">
                        <VisualState x:Name="Normal">
                            <VisualState.Setters>
                                <Setter Property="Scale" Value="1"/>
                                <Setter Property="Opacity" Value="1"/>
                            </VisualState.Setters>
                        </VisualState>
                        <VisualState x:Name="Pressed">
                            <VisualState.Setters>
                                <Setter Property="Scale" Value="0.85"/>
                                <Setter Property="Opacity" Value="0.8"/>
                            </VisualState.Setters>
                        </VisualState>
                    </VisualStateGroup>
                </VisualStateManager.VisualStateGroups>
            </Grid>
        </Frame>

    </Grid>
</ContentPage>