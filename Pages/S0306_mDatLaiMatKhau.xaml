<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SixOSDatKhamAppMobile.Pages.S0306_mDatLaiMatKhau"
              NavigationPage.HasNavigationBar="False"
             Title="Äáº·t Láº¡i Máº­t Kháº©u"
             >
    <Grid BackgroundColor="{StaticResource BackgroundColor}">
        <ScrollView>
        <Grid RowDefinitions="Auto,Auto,Auto,Auto,Auto"
              RowSpacing="0"
              Padding="20">

            <!-- Header -->
            <VerticalStackLayout Grid.Row="0"
                                 Spacing="15"
                                 HorizontalOptions="Center"
                                 Margin="0,0,0,30">

                <!-- Logo + Chá»¯ cáº¡nh nhau -->
                <HorizontalStackLayout
                          Spacing="15"
                          Padding="0"
                          HorizontalOptions="Center"
                          VerticalOptions="Center">
                    <Image Source="logo.jpg"
                           Aspect="AspectFit"/>
                    <!-- Pháº§n chá»¯ -->
                    <VerticalStackLayout Spacing="2"
                                         VerticalOptions="Center">
                        <Label Text="Bá»‡nh viá»‡n Ung BÆ°á»›u"
                               TextColor="{StaticResource PrimaryColor}"
                               FontSize="20"
                               FontAttributes="Bold" />

                        <Label Text="ThÃ nh phá»‘ Há»“ ChÃ­ Minh"
                               TextColor="{StaticResource PrimaryColor}"
                                FontSize="14" />
                    </VerticalStackLayout>
                </HorizontalStackLayout>

                <!-- TiÃªu Ä‘á» -->
                <Label Text="Äáº¶T Láº I Máº¬T KHáº¨U"
                       TextColor="{StaticResource PrimaryColor}"
                       FontFamily="MontserratBold"
                       FontSize="28"
                       FontAttributes="Bold"
                       HorizontalOptions="Center"/>

                <!-- MÃ´ táº£ -->
                <Label x:Name="UserInfoLabel"
                       Text="Táº¡o máº­t kháº©u má»›i cho tÃ i khoáº£n"
                       TextColor="#666666"
                       FontSize="12"
                       HorizontalOptions="Center"
                       Margin="0,5,0,0"/>
            </VerticalStackLayout>

            <!-- Form Ä‘áº·t láº¡i máº­t kháº©u -->
            <Border Grid.Row="1"
                    BackgroundColor="White"
                    StrokeShape="RoundRectangle 15"
                    Stroke="#E0E0E0"
                    StrokeThickness="1"
                    Padding="25">

                <VerticalStackLayout Spacing="20">

                    <!-- Máº­t kháº©u má»›i -->
                    <VerticalStackLayout Spacing="8">
                        <Label Text="Máº­t kháº©u má»›i"
                               TextColor="{StaticResource TextColor}"
                               FontSize="14"
                               FontAttributes="Bold"/>

                        <Border Stroke="#E0E0E0"
                                StrokeThickness="1"
                                StrokeShape="RoundRectangle 10"
                                BackgroundColor="#F5F5F5"
                                HeightRequest="50">

                            <Grid ColumnDefinitions="*,Auto">

                                <!-- Entry máº­t kháº©u -->
                                <Entry Grid.Column="0"
                                       x:Name="NewPasswordEntry"
                                       Placeholder="Nháº­p máº­t kháº©u má»›i"
                                       IsPassword="True"
                                       FontSize="16"
                                       TextColor="{StaticResource TextColor}"
                                       PlaceholderColor="#999999"
                                       Margin="15,0"/>

                                <!-- NÃºt hiá»ƒn thá»‹/áº©n máº­t kháº©u -->
                                <ImageButton Grid.Column="1"
                                             x:Name="ToggleNewPasswordButton"
                                             Source="mo.png"
                                             WidthRequest="20"
                                             HeightRequest="20"
                                             Margin="10,0"
                                             BackgroundColor="Transparent"
                                             Clicked="OnToggleNewPasswordClicked"/>

                            </Grid>
                        </Border>

                        <!-- Strength indicator -->
                        <VerticalStackLayout x:Name="PasswordStrengthContainer"
                                             Spacing="5"
                                             IsVisible="False">

                            <HorizontalStackLayout Spacing="5">
                                <BoxView x:Name="StrengthBar1"
                                         HeightRequest="4"
                                         WidthRequest="0"
                                         Color="#FF5252"
                                         CornerRadius="2"/>
                                <BoxView x:Name="StrengthBar2"
                                         HeightRequest="4"
                                         WidthRequest="0"
                                         Color="#FFB74D"
                                         CornerRadius="2"/>
                                <BoxView x:Name="StrengthBar3"
                                         HeightRequest="4"
                                         WidthRequest="0"
                                         Color="#FFD740"
                                         CornerRadius="2"/>
                                <BoxView x:Name="StrengthBar4"
                                         HeightRequest="4"
                                         WidthRequest="0"
                                         Color="#4CAF50"
                                         CornerRadius="2"/>
                            </HorizontalStackLayout>

                            <Label x:Name="StrengthLabel"
                                   Text="Äá»™ máº¡nh: Yáº¿u"
                                   TextColor="#666666"
                                   FontSize="12"/>

                        </VerticalStackLayout>
                    </VerticalStackLayout>

                    <!-- XÃ¡c nháº­n máº­t kháº©u -->
                    <VerticalStackLayout Spacing="8">
                        <Label Text="XÃ¡c nháº­n máº­t kháº©u"
                               TextColor="{StaticResource TextColor}"
                               FontSize="14"
                               FontAttributes="Bold"/>

                        <Border Stroke="#E0E0E0"
                                StrokeThickness="1"
                                StrokeShape="RoundRectangle 10"
                                BackgroundColor="#F5F5F5"
                                HeightRequest="50">

                            <Grid ColumnDefinitions="*,Auto">

                                <!-- Entry xÃ¡c nháº­n máº­t kháº©u -->
                                <Entry Grid.Column="0"
                                       x:Name="ConfirmPasswordEntry"
                                       Placeholder="Nháº­p láº¡i máº­t kháº©u má»›i"
                                       IsPassword="True"
                                       FontSize="16"
                                       TextColor="{StaticResource TextColor}"
                                       PlaceholderColor="#999999"
                                       Margin="15,0"/>

                                <!-- NÃºt hiá»ƒn thá»‹/áº©n máº­t kháº©u -->
                                <ImageButton Grid.Column="1"
                                             x:Name="ToggleConfirmPasswordButton"
                                             Source="mo.png"
                                             WidthRequest="20"
                                             HeightRequest="20"
                                             Margin="10,0"
                                             BackgroundColor="Transparent"
                                             Clicked="OnToggleConfirmPasswordClicked"/>

                            </Grid>
                        </Border>

                        <!-- Validation message -->
                        <Label x:Name="ValidationLabel"
                               Text=""
                               TextColor="#4CAF50"
                               FontSize="12"
                               IsVisible="False"/>
                    </VerticalStackLayout>

                    <!-- YÃªu cáº§u máº­t kháº©u -->
                    <Border BackgroundColor="#F5F5F5"
                            Stroke="#E0E0E0"
                            StrokeThickness="1"
                            StrokeShape="RoundRectangle 10"
                            Padding="15">

                        <VerticalStackLayout Spacing="8">
                            <Label Text="YÃªu cáº§u máº­t kháº©u:"
                                   TextColor="#666666"
                                   FontSize="13"
                                   FontAttributes="Bold"/>

                            <VerticalStackLayout Spacing="5">
                                <HorizontalStackLayout Spacing="8">
                                    <Image Source="tt.png"
                                           WidthRequest="15"
                                           HeightRequest="15"/>
                                    <Label Text="Ãt nháº¥t 6 kÃ½ tá»±"
                                           TextColor="#666666"
                                           FontSize="12"/>
                                </HorizontalStackLayout>

                              
                            </VerticalStackLayout>
                        </VerticalStackLayout>
                    </Border>

                    <!-- NÃºt Ä‘áº·t láº¡i máº­t kháº©u -->
                    <Button x:Name="ResetPasswordButton"
                            Text="Äáº¶T Láº I Máº¬T KHáº¨U"
                            BackgroundColor="{StaticResource PrimaryColor}"
                            TextColor="White"
                            FontSize="18"
                            FontAttributes="Bold"
                            CornerRadius="25"
                            HeightRequest="55"
                            Margin="0,10,0,0"
                            IsEnabled="False"
                            Clicked="OnResetPasswordClicked"/>

                </VerticalStackLayout>
            </Border>

            <!-- ThÃ´ng bÃ¡o thÃ nh cÃ´ng (áº©n ban Ä‘áº§u) -->
            <Border x:Name="SuccessContainer"
                    Grid.Row="2"
                    IsVisible="False"
                    BackgroundColor="#E8F5E9"
                    Stroke="#4CAF50"
                    StrokeThickness="1"
                    StrokeShape="RoundRectangle 15"
                    Padding="25"
                    Margin="0,20,0,0">

                <VerticalStackLayout Spacing="15"
                                     HorizontalOptions="Center">

                    <Image Source="success_icon.png"
                           WidthRequest="60"
                           HeightRequest="60"
                           HorizontalOptions="Center"/>

                    <Label Text="ðŸŽ‰ ThÃ nh CÃ´ng !"
                           TextColor="#4CAF50"
                           FontSize="22"
                           FontAttributes="Bold"
                           HorizontalOptions="Center"/>

                    <Label Text="Máº­t kháº©u cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c Ä‘áº·t láº¡i thÃ nh cÃ´ng."
                           TextColor="#666666"
                           FontSize="16"
                           HorizontalOptions="Center"
                           HorizontalTextAlignment="Center"/>

                    <Button Text="ÄÄ‚NG NHáº¬P NGAY"
                            BackgroundColor="#4CAF50"
                            TextColor="White"
                            FontSize="16"
                            FontAttributes="Bold"
                            CornerRadius="20"
                            HeightRequest="45"
                            WidthRequest="200"
                            HorizontalOptions="Center"
                            Margin="0,10,0,0"
                            Clicked="OnGoToLoginClicked"/>

                </VerticalStackLayout>
            </Border>

            <!-- Quay láº¡i -->
            <HorizontalStackLayout Grid.Row="3"
                                   Spacing="5"
                                   HorizontalOptions="Center"
                                   VerticalOptions="Center"
                                   Margin="0,30,0,0">

                <Button Text="Quay láº¡i trang chá»§"
                        BackgroundColor="Transparent"
                        TextColor="{StaticResource PrimaryColor}"
                        FontSize="16"
                        Padding="0"
                        Clicked="OnBackToHomeClicked"/>

            </HorizontalStackLayout>

        </Grid>
    </ScrollView>
    </Grid>
</ContentPage>