<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://schemas.microsoft.com/dotnet/2021/maui"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             x:Class="SixOSDatKhamAppMobile.Pages.S0306_mDoiMatKhau"
              NavigationPage.HasNavigationBar="False"
             Title="Äá»•i Máº­t Kháº©u"
             BackgroundColor="Black">

    <Grid>
        <ScrollView>
            <VerticalStackLayout        Padding="0,38,0,15"   >

                <!-- Header -->
                <Frame BackgroundColor="#007bff"
       CornerRadius="0"
       Padding="20,20,20,40">

                    <Grid ColumnDefinitions="Auto,*"
          RowDefinitions="Auto,Auto"
          RowSpacing="15">

                        <!-- HÃ ng 1: Back + ThÃ´ng tin ngÆ°á»i dÃ¹ng -->
                        <ImageButton Grid.Row="0"
                     Grid.Column="0"
                     Source="quaylai.png"
                     WidthRequest="24"
                     HeightRequest="24"
                     VerticalOptions="Center"
                     Clicked="OnGoBackClicked"/>

                        <!-- ThÃ´ng tin ngÆ°á»i dÃ¹ng -->
                        <VerticalStackLayout Grid.Row="0"
                             Grid.Column="1"
                             Spacing="5"
                             HorizontalOptions="Center"
                             VerticalOptions="Center">

                            <Label x:Name="UserNameLabel"
                   Text="Nguyá»…n Minh KhÃ¡nh Duy"
                   TextColor="White"
                   FontSize="20"
                   FontAttributes="Bold"
                   HorizontalOptions="Center"/>

                            <Label x:Name="PhoneLabel"
                   Text="Sá»‘ Ä‘iá»‡n thoáº¡i: 0912***789"
                   TextColor="#E3F2FD"
                   FontSize="14"
                   HorizontalOptions="Center"/>
                        </VerticalStackLayout>

                        <!-- HÃ ng 2: TiÃªu Ä‘á» -->
                        <Label Grid.Row="1"
               Grid.ColumnSpan="2"
               Text="Äá»”I Máº¬T KHáº¨U"
               TextColor="White"
               FontSize="24"
               FontAttributes="Bold"
               HorizontalOptions="Center"
               Margin="0,10,0,0"/>

                    </Grid>
                </Frame>


                <!-- Form Ä‘á»•i máº­t kháº©u -->
                <Frame x:Name="ChangePasswordForm"
                       BackgroundColor="White"
                       CornerRadius="15"
                       Padding="25"
                       Margin="6,-20,0,0"
                               HeightRequest="700"
                       HasShadow="True">

                    <VerticalStackLayout Spacing="20">

                        <!-- Máº­t kháº©u hiá»‡n táº¡i -->
                        <VerticalStackLayout Spacing="8">
                            <Label Text="Máº­t kháº©u hiá»‡n táº¡i"
                                   TextColor="#333333"
                                   FontSize="14"
                                   FontAttributes="Bold"/>

                            <Frame BackgroundColor="#F5F5F5"
                                   CornerRadius="10"
                                   Padding="0"
                                   BorderColor="#E0E0E0"
                                   HasShadow="False">

                                <Grid ColumnDefinitions="*,Auto">
                                    <!-- Entry máº­t kháº©u hiá»‡n táº¡i -->
                                    <Entry Grid.Column="0"
                                           x:Name="CurrentPasswordEntry"
                                           Placeholder="Nháº­p máº­t kháº©u hiá»‡n táº¡i"
                                           IsPassword="True"
                                           FontSize="16"
                                           TextColor="#333333"
                                           PlaceholderColor="#999999"
                                           Margin="15,0"/>

                                    <!-- NÃºt hiá»ƒn thá»‹/áº©n -->
                                    <ImageButton Grid.Column="1"
                                                 x:Name="ToggleCurrentPasswordButton"
                                                 Source="mo.png"
                                                 WidthRequest="20"
                                                 HeightRequest="20"
                                                 Margin="10,0"
                                                 BackgroundColor="Transparent"
                                                 Clicked="OnToggleCurrentPasswordClicked"/>
                                </Grid>
                            </Frame>
                        </VerticalStackLayout>

                        <!-- Máº­t kháº©u má»›i -->
                        <VerticalStackLayout Spacing="8">
                            <Label Text="Máº­t kháº©u má»›i"
                                   TextColor="#333333"
                                   FontSize="14"
                                   FontAttributes="Bold"/>

                            <Frame BackgroundColor="#F5F5F5"
                                   CornerRadius="10"
                                   Padding="0"
                                   BorderColor="#E0E0E0"
                                   HasShadow="False">

                                <Grid ColumnDefinitions="*,Auto">
                                    <!-- Entry máº­t kháº©u má»›i -->
                                    <Entry Grid.Column="0"
                                           x:Name="NewPasswordEntry"
                                           Placeholder="Nháº­p máº­t kháº©u má»›i"
                                           IsPassword="True"
                                           FontSize="16"
                                           TextColor="#333333"
                                           PlaceholderColor="#999999"
                                           Margin="15,0"/>

                                    <!-- NÃºt hiá»ƒn thá»‹/áº©n -->
                                    <ImageButton Grid.Column="1"
                                                 x:Name="ToggleNewPasswordButton"
                                                 Source="mo.png"
                                                 WidthRequest="20"
                                                 HeightRequest="20"
                                                 Margin="10,0"
                                                 BackgroundColor="Transparent"
                                                 Clicked="OnToggleNewPasswordClicked"/>
                                </Grid>
                            </Frame>

                            <!-- Strength indicator -->
                            <VerticalStackLayout x:Name="PasswordStrengthContainer"
                                                 Spacing="5"
                                                 IsVisible="False">

                                <HorizontalStackLayout Spacing="5">
                                    <BoxView x:Name="StrengthBar1"
                                             HeightRequest="4"
                                             WidthRequest="0"
                                             Color="#FF5252"
                                             CornerRadius="2"/>
                                    <BoxView x:Name="StrengthBar2"
                                             HeightRequest="4"
                                             WidthRequest="0"
                                             Color="#FFB74D"
                                             CornerRadius="2"/>
                                    <BoxView x:Name="StrengthBar3"
                                             HeightRequest="4"
                                             WidthRequest="0"
                                             Color="#FFD740"
                                             CornerRadius="2"/>
                                    <BoxView x:Name="StrengthBar4"
                                             HeightRequest="4"
                                             WidthRequest="0"
                                             Color="#4CAF50"
                                             CornerRadius="2"/>
                                </HorizontalStackLayout>

                                <Label x:Name="StrengthLabel"
                                       Text="Äá»™ máº¡nh: Yáº¿u"
                                       TextColor="#666666"
                                       FontSize="12"/>
                            </VerticalStackLayout>
                        </VerticalStackLayout>

                        <!-- XÃ¡c nháº­n máº­t kháº©u má»›i -->
                        <VerticalStackLayout Spacing="8">
                            <Label Text="XÃ¡c nháº­n máº­t kháº©u má»›i"
                                   TextColor="#333333"
                                   FontSize="14"
                                   FontAttributes="Bold"/>

                            <Frame BackgroundColor="#F5F5F5"
                                   CornerRadius="10"
                                   Padding="0"
                                   BorderColor="#E0E0E0"
                                   HasShadow="False">

                                <Grid ColumnDefinitions="*,Auto">
                                    <!-- Entry xÃ¡c nháº­n máº­t kháº©u -->
                                    <Entry Grid.Column="0"
                                           x:Name="ConfirmPasswordEntry"
                                           Placeholder="Nháº­p láº¡i máº­t kháº©u má»›i"
                                           IsPassword="True"
                                           FontSize="16"
                                           TextColor="#333333"
                                           PlaceholderColor="#999999"
                                           Margin="15,0"/>

                                    <!-- NÃºt hiá»ƒn thá»‹/áº©n -->
                                    <ImageButton Grid.Column="1"
                                                 x:Name="ToggleConfirmPasswordButton"
                                                 Source="mo.png"
                                                 WidthRequest="20"
                                                 HeightRequest="20"
                                                 Margin="10,0"
                                                 BackgroundColor="Transparent"
                                                 Clicked="OnToggleConfirmPasswordClicked"/>
                                </Grid>
                            </Frame>

                            <!-- Validation message -->
                            <Label x:Name="ValidationLabel"
                                   Text=""
                                   TextColor="#4CAF50"
                                   FontSize="12"
                                   IsVisible="False"/>
                        </VerticalStackLayout>

                        <!-- YÃªu cáº§u máº­t kháº©u -->
                        <Frame BackgroundColor="#F0F7FF"
                               CornerRadius="10"
                               Padding="15"
                               BorderColor="#BBDEFB"
                               HasShadow="False">

                            <VerticalStackLayout Spacing="8">
                                <Label Text="YÃªu cáº§u máº­t kháº©u an toÃ n:"
                                       TextColor="#1976D2"
                                       FontSize="13"
                                       FontAttributes="Bold"/>

                                <VerticalStackLayout Spacing="5">
                                    <HorizontalStackLayout Spacing="8">
                                        <Image Source="tt.png"
                                               WidthRequest="15"
                                               HeightRequest="15"/>
                                        <Label Text="Ãt nháº¥t 6 kÃ½ tá»±"
                                               TextColor="#424242"
                                               FontSize="12"/>
                                    </HorizontalStackLayout>

                                    <HorizontalStackLayout Spacing="8">
                                        <Image Source="tt.png"
                                               WidthRequest="15"
                                               HeightRequest="15"/>
                                        <Label Text="KhÃ´ng trÃ¹ng vá»›i máº­t kháº©u cÅ©"
                                               TextColor="#424242"
                                               FontSize="12"/>
                                    </HorizontalStackLayout>
                                </VerticalStackLayout>
                            </VerticalStackLayout>
                        </Frame>

                        <!-- NÃºt Ä‘á»•i máº­t kháº©u -->
                        <Button x:Name="ChangePasswordButton"
                                Text="Äá»”I Máº¬T KHáº¨U"
                                BackgroundColor="#007bff"
                                TextColor="White"
                                FontSize="18"
                                FontAttributes="Bold"
                                CornerRadius="25"
                                HeightRequest="55"
                                Margin="0,10,0,0"
                                IsEnabled="False"
                                Clicked="OnChangePasswordClicked"/>

                        <!-- NÃºt quay láº¡i -->
                     

                    </VerticalStackLayout>
                </Frame>

                <!-- ThÃ´ng bÃ¡o thÃ nh cÃ´ng (áº©n ban Ä‘áº§u) -->
                <Frame x:Name="SuccessContainer"
                       IsVisible="False"
                       BackgroundColor="#E8F5E9"
                       CornerRadius="15"
                       Padding="30"
                       Margin="20,20,20,20"
                       BorderColor="#4CAF50"
                     >

                    <VerticalStackLayout Spacing="20"
                                         HorizontalOptions="Center">

                        <Image Source="success_icon.png"
                               WidthRequest="80"
                               HeightRequest="80"
                               HorizontalOptions="Center"/>

                        <Label Text="ðŸŽ‰ Äá»•i máº­t kháº©u thÃ nh cÃ´ng!"
                               TextColor="#4CAF50"
                               FontSize="22"
                               FontAttributes="Bold"
                               HorizontalOptions="Center"/>

                        <Label Text="Máº­t kháº©u cá»§a báº¡n Ä‘Ã£ Ä‘Æ°á»£c cáº­p nháº­t thÃ nh cÃ´ng. Vui lÃ²ng Ä‘Äƒng nháº­p láº¡i báº±ng máº­t kháº©u má»›i."
                               TextColor="#666666"
                               FontSize="16"
                               HorizontalOptions="Center"
                               HorizontalTextAlignment="Center"
                               MaxLines="3"/>

                        <Button Text="ÄÄ‚NG NHáº¬P Láº I"
                                BackgroundColor="#4CAF50"
                                TextColor="White"
                                FontSize="16"
                                FontAttributes="Bold"
                                CornerRadius="20"
                                HeightRequest="50"
                                WidthRequest="200"
                                HorizontalOptions="Center"
                                Margin="0,10,0,0"
                                Clicked="OnGoToLoginClicked"/>

                    </VerticalStackLayout>
                </Frame>

            </VerticalStackLayout>
        </ScrollView>
    </Grid>
</ContentPage>